<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter5 Data wrangling | Quantitative Agricultural Economics</title>
  <meta name="description" content="Chapter5 Data wrangling | Quantitative Agricultural Economics" />
  <meta name="generator" content="bookdown 0.43 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter5 Data wrangling | Quantitative Agricultural Economics" />
  <meta property="og:type" content="book" />
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter5 Data wrangling | Quantitative Agricultural Economics" />
  
  
  

<meta name="author" content="Raymond L. Tremblay" />


<meta name="date" content="2025-04-21" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="data-upload.html"/>
<link rel="next" href="understanding-your-file-data-strutcture.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">QAE</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Daily Activities</a></li>
<li class="chapter" data-level="2" data-path="introduction-to-r-and-posit-rstudio.html"><a href="introduction-to-r-and-posit-rstudio.html"><i class="fa fa-check"></i><b>2</b> Introduction to R and POSIT (RStudio)</a>
<ul>
<li class="chapter" data-level="2.1" data-path="introduction-to-r-and-posit-rstudio.html"><a href="introduction-to-r-and-posit-rstudio.html#what-is-r"><i class="fa fa-check"></i><b>2.1</b> What is R?</a></li>
<li class="chapter" data-level="2.2" data-path="introduction-to-r-and-posit-rstudio.html"><a href="introduction-to-r-and-posit-rstudio.html#what-is-rstudio"><i class="fa fa-check"></i><b>2.2</b> What is RStudio?</a></li>
<li class="chapter" data-level="2.3" data-path="introduction-to-r-and-posit-rstudio.html"><a href="introduction-to-r-and-posit-rstudio.html#installing-r-and-rstudio"><i class="fa fa-check"></i><b>2.3</b> Installing R and RStudio</a></li>
<li class="chapter" data-level="2.4" data-path="introduction-to-r-and-posit-rstudio.html"><a href="introduction-to-r-and-posit-rstudio.html#getting-started-with-rstudio"><i class="fa fa-check"></i><b>2.4</b> Getting started with RStudio</a></li>
<li class="chapter" data-level="2.5" data-path="introduction-to-r-and-posit-rstudio.html"><a href="introduction-to-r-and-posit-rstudio.html#what-is-rmarkdown"><i class="fa fa-check"></i><b>2.5</b> What is RMarkdown?</a></li>
<li class="chapter" data-level="2.6" data-path="introduction-to-r-and-posit-rstudio.html"><a href="introduction-to-r-and-posit-rstudio.html#creating-an-rstudio-project"><i class="fa fa-check"></i><b>2.6</b> Creating an RStudio project</a></li>
<li class="chapter" data-level="2.7" data-path="introduction-to-r-and-posit-rstudio.html"><a href="introduction-to-r-and-posit-rstudio.html#getting-help-with-r"><i class="fa fa-check"></i><b>2.7</b> Getting help with R</a></li>
<li class="chapter" data-level="2.8" data-path="introduction-to-r-and-posit-rstudio.html"><a href="introduction-to-r-and-posit-rstudio.html#conclusion"><i class="fa fa-check"></i><b>2.8</b> Conclusion</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="packages-and-functions-in-r.html"><a href="packages-and-functions-in-r.html"><i class="fa fa-check"></i><b>3</b> Packages and Functions in R</a>
<ul>
<li class="chapter" data-level="3.1" data-path="packages-and-functions-in-r.html"><a href="packages-and-functions-in-r.html#what-is-an-r-package"><i class="fa fa-check"></i><b>3.1</b> What is an R package?</a></li>
<li class="chapter" data-level="3.2" data-path="packages-and-functions-in-r.html"><a href="packages-and-functions-in-r.html#understanding-packages-in-r"><i class="fa fa-check"></i><b>3.2</b> Understanding packages in R</a></li>
<li class="chapter" data-level="3.3" data-path="packages-and-functions-in-r.html"><a href="packages-and-functions-in-r.html#installing-and-loading-packages"><i class="fa fa-check"></i><b>3.3</b> Installing and loading packages</a></li>
<li class="chapter" data-level="3.4" data-path="packages-and-functions-in-r.html"><a href="packages-and-functions-in-r.html#surfing-the-web-for-packages-and-functions"><i class="fa fa-check"></i><b>3.4</b> Surfing the web for packages and functions</a></li>
<li class="chapter" data-level="3.5" data-path="packages-and-functions-in-r.html"><a href="packages-and-functions-in-r.html#installing-packages-from-github"><i class="fa fa-check"></i><b>3.5</b> Installing packages from github</a></li>
<li class="chapter" data-level="3.6" data-path="packages-and-functions-in-r.html"><a href="packages-and-functions-in-r.html#installing-packages-from-bioconductor"><i class="fa fa-check"></i><b>3.6</b> Installing packages from Bioconductor</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="data-upload.html"><a href="data-upload.html"><i class="fa fa-check"></i><b>4</b> Data Upload</a>
<ul>
<li class="chapter" data-level="4.1" data-path="data-upload.html"><a href="data-upload.html#adding-data-directly-to-the-document"><i class="fa fa-check"></i><b>4.1</b> Adding data directly to the document</a>
<ul>
<li class="chapter" data-level="4.1.1" data-path="data-upload.html"><a href="data-upload.html#using-the-function-tibble-in-the-package-tibble"><i class="fa fa-check"></i><b>4.1.1</b> Using the function <strong>tibble</strong> in the package <strong>tibble</strong></a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="data-upload.html"><a href="data-upload.html#loading-data-from-a-file"><i class="fa fa-check"></i><b>4.2</b> Loading data from a file</a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="data-upload.html"><a href="data-upload.html#csv-file-uplaod"><i class="fa fa-check"></i><b>4.2.1</b> .csv file uplaod</a></li>
<li class="chapter" data-level="4.2.2" data-path="data-upload.html"><a href="data-upload.html#excel-file-upload"><i class="fa fa-check"></i><b>4.2.2</b> Excel file upload</a></li>
<li class="chapter" data-level="4.2.3" data-path="data-upload.html"><a href="data-upload.html#txt-file"><i class="fa fa-check"></i><b>4.2.3</b> .txt file</a></li>
<li class="chapter" data-level="4.2.4" data-path="data-upload.html"><a href="data-upload.html#spss-file"><i class="fa fa-check"></i><b>4.2.4</b> .spss file</a></li>
<li class="chapter" data-level="4.2.5" data-path="data-upload.html"><a href="data-upload.html#read-a-stata-file"><i class="fa fa-check"></i><b>4.2.5</b> read a Stata file</a></li>
<li class="chapter" data-level="4.2.6" data-path="data-upload.html"><a href="data-upload.html#read-a-sas-file"><i class="fa fa-check"></i><b>4.2.6</b> Read a SAS file</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="data-upload.html"><a href="data-upload.html#loading-data-from-the-web"><i class="fa fa-check"></i><b>4.3</b> Loading data from the web</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="data-wrangling.html"><a href="data-wrangling.html"><i class="fa fa-check"></i><b>5</b> Data wrangling</a>
<ul>
<li class="chapter" data-level="5.1" data-path="data-wrangling.html"><a href="data-wrangling.html#cleaning-column-names"><i class="fa fa-check"></i><b>5.1</b> Cleaning column names</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="data-wrangling.html"><a href="data-wrangling.html#cleaning-the-names-of-the-variables-with-janitor"><i class="fa fa-check"></i><b>5.1.1</b> Cleaning the names of the variables with <strong>janitor</strong></a></li>
<li class="chapter" data-level="5.1.2" data-path="data-wrangling.html"><a href="data-wrangling.html#now-let-us-clean-the-names-of-the-variables"><i class="fa fa-check"></i><b>5.1.2</b> Now let us clean the names of the variables</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="data-wrangling.html"><a href="data-wrangling.html#changing-the-names-to-variables"><i class="fa fa-check"></i><b>5.2</b> Changing the names to variables</a></li>
<li class="chapter" data-level="5.3" data-path="data-wrangling.html"><a href="data-wrangling.html#deleting-variables"><i class="fa fa-check"></i><b>5.3</b> Deleting variables</a></li>
<li class="chapter" data-level="5.4" data-path="data-wrangling.html"><a href="data-wrangling.html#changing-names-of-levelsfactors"><i class="fa fa-check"></i><b>5.4</b> Changing names of levels/factors</a></li>
<li class="chapter" data-level="5.5" data-path="data-wrangling.html"><a href="data-wrangling.html#finding-missing-values"><i class="fa fa-check"></i><b>5.5</b> Finding missing values</a></li>
<li class="chapter" data-level="5.6" data-path="data-wrangling.html"><a href="data-wrangling.html#section"><i class="fa fa-check"></i><b>5.6</b> </a></li>
<li class="chapter" data-level="5.7" data-path="data-wrangling.html"><a href="data-wrangling.html#exclude-na-values-from-a-specific-variable-with-drop_na"><i class="fa fa-check"></i><b>5.7</b> Exclude NA values from a specific variable with <strong>drop_na</strong></a></li>
<li class="chapter" data-level="5.8" data-path="data-wrangling.html"><a href="data-wrangling.html#subsetting-data-set"><i class="fa fa-check"></i><b>5.8</b> Subsetting data set</a></li>
<li class="chapter" data-level="5.9" data-path="data-wrangling.html"><a href="data-wrangling.html#titanic-data-set"><i class="fa fa-check"></i><b>5.9</b> Titanic data set</a>
<ul>
<li class="chapter" data-level="5.9.1" data-path="data-wrangling.html"><a href="data-wrangling.html#arrange-rows-based-on-a-variable"><i class="fa fa-check"></i><b>5.9.1</b> Arrange rows based on a variable</a></li>
<li class="chapter" data-level="5.9.2" data-path="data-wrangling.html"><a href="data-wrangling.html#mutate-calculate-new-variables-based-on-existing-variables"><i class="fa fa-check"></i><b>5.9.2</b> Mutate: Calculate new variables based on existing variables</a></li>
<li class="chapter" data-level="5.9.3" data-path="data-wrangling.html"><a href="data-wrangling.html#group-data-by-a-variable"><i class="fa fa-check"></i><b>5.9.3</b> Group data by a variable</a></li>
<li class="chapter" data-level="5.9.4" data-path="data-wrangling.html"><a href="data-wrangling.html#group-by-multiple-variables."><i class="fa fa-check"></i><b>5.9.4</b> Group by multiple variables.</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="understanding-your-file-data-strutcture.html"><a href="understanding-your-file-data-strutcture.html"><i class="fa fa-check"></i><b>6</b> Understanding your file data strutcture</a>
<ul>
<li class="chapter" data-level="6.1" data-path="understanding-your-file-data-strutcture.html"><a href="understanding-your-file-data-strutcture.html#introduction"><i class="fa fa-check"></i><b>6.1</b> Introduction</a></li>
<li class="chapter" data-level="6.2" data-path="understanding-your-file-data-strutcture.html"><a href="understanding-your-file-data-strutcture.html#functions-to-evaluate-your-data"><i class="fa fa-check"></i><b>6.2</b> Functions to evaluate your data</a></li>
<li class="chapter" data-level="6.3" data-path="understanding-your-file-data-strutcture.html"><a href="understanding-your-file-data-strutcture.html#example"><i class="fa fa-check"></i><b>6.3</b> Example</a>
<ul>
<li class="chapter" data-level="6.3.1" data-path="understanding-your-file-data-strutcture.html"><a href="understanding-your-file-data-strutcture.html#dimensions-of-the-data"><i class="fa fa-check"></i><b>6.3.1</b> Dimensions of the data</a></li>
<li class="chapter" data-level="6.3.2" data-path="understanding-your-file-data-strutcture.html"><a href="understanding-your-file-data-strutcture.html#structure-of-the-data"><i class="fa fa-check"></i><b>6.3.2</b> Structure of the data</a></li>
<li class="chapter" data-level="6.3.3" data-path="understanding-your-file-data-strutcture.html"><a href="understanding-your-file-data-strutcture.html#recoding-variables"><i class="fa fa-check"></i><b>6.3.3</b> Recoding variables</a></li>
<li class="chapter" data-level="6.3.4" data-path="understanding-your-file-data-strutcture.html"><a href="understanding-your-file-data-strutcture.html#levels-of-the-variables"><i class="fa fa-check"></i><b>6.3.4</b> Levels of the variables</a></li>
<li class="chapter" data-level="6.3.5" data-path="understanding-your-file-data-strutcture.html"><a href="understanding-your-file-data-strutcture.html#summary-of-the-data"><i class="fa fa-check"></i><b>6.3.5</b> Summary of the data</a></li>
<li class="chapter" data-level="6.3.6" data-path="understanding-your-file-data-strutcture.html"><a href="understanding-your-file-data-strutcture.html#first-and-last-rows-of-the-data"><i class="fa fa-check"></i><b>6.3.6</b> First and last rows of the data</a></li>
<li class="chapter" data-level="6.3.7" data-path="understanding-your-file-data-strutcture.html"><a href="understanding-your-file-data-strutcture.html#unique-values-of-the-variables"><i class="fa fa-check"></i><b>6.3.7</b> Unique values of the variables</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="tests-of-normality-and-equality-of-variance.html"><a href="tests-of-normality-and-equality-of-variance.html"><i class="fa fa-check"></i><b>7</b> Tests of Normality and Equality of Variance</a>
<ul>
<li class="chapter" data-level="7.1" data-path="tests-of-normality-and-equality-of-variance.html"><a href="tests-of-normality-and-equality-of-variance.html#shapiro-wilk-normality-test"><i class="fa fa-check"></i><b>7.1</b> Shapiro-Wilk normality test</a></li>
<li class="chapter" data-level="7.2" data-path="tests-of-normality-and-equality-of-variance.html"><a href="tests-of-normality-and-equality-of-variance.html#the-shapiro-francia-normality-test"><i class="fa fa-check"></i><b>7.2</b> The shapiro-Francia normality test</a></li>
<li class="chapter" data-level="7.3" data-path="tests-of-normality-and-equality-of-variance.html"><a href="tests-of-normality-and-equality-of-variance.html#anderson-darling-normality-test"><i class="fa fa-check"></i><b>7.3</b> Anderson-Darling normality test</a></li>
<li class="chapter" data-level="7.4" data-path="tests-of-normality-and-equality-of-variance.html"><a href="tests-of-normality-and-equality-of-variance.html#cramer-von-mises-test-of-normality"><i class="fa fa-check"></i><b>7.4</b> Cramer-von Mises test of normality</a></li>
<li class="chapter" data-level="7.5" data-path="tests-of-normality-and-equality-of-variance.html"><a href="tests-of-normality-and-equality-of-variance.html#lilliefors-test-of-normality"><i class="fa fa-check"></i><b>7.5</b> Lilliefors test of normality</a></li>
<li class="chapter" data-level="7.6" data-path="tests-of-normality-and-equality-of-variance.html"><a href="tests-of-normality-and-equality-of-variance.html#visualizing-the-data"><i class="fa fa-check"></i><b>7.6</b> Visualizing the data</a>
<ul>
<li class="chapter" data-level="7.6.1" data-path="tests-of-normality-and-equality-of-variance.html"><a href="tests-of-normality-and-equality-of-variance.html#qq-plot"><i class="fa fa-check"></i><b>7.6.1</b> qq-plot</a></li>
<li class="chapter" data-level="7.6.2" data-path="tests-of-normality-and-equality-of-variance.html"><a href="tests-of-normality-and-equality-of-variance.html#histogram"><i class="fa fa-check"></i><b>7.6.2</b> Histogram</a></li>
<li class="chapter" data-level="7.6.3" data-path="tests-of-normality-and-equality-of-variance.html"><a href="tests-of-normality-and-equality-of-variance.html#density-plot"><i class="fa fa-check"></i><b>7.6.3</b> Density plot</a></li>
</ul></li>
<li class="chapter" data-level="7.7" data-path="tests-of-normality-and-equality-of-variance.html"><a href="tests-of-normality-and-equality-of-variance.html#remove-the-outlier-from-the-day1-hygiene-score"><i class="fa fa-check"></i><b>7.7</b> Remove the outlier from the day1 hygiene score</a>
<ul>
<li class="chapter" data-level="7.7.1" data-path="tests-of-normality-and-equality-of-variance.html"><a href="tests-of-normality-and-equality-of-variance.html#what-is-the-variance"><i class="fa fa-check"></i><b>7.7.1</b> What is the variance?</a></li>
<li class="chapter" data-level="7.7.2" data-path="tests-of-normality-and-equality-of-variance.html"><a href="tests-of-normality-and-equality-of-variance.html#what-is-the-standard-deviation"><i class="fa fa-check"></i><b>7.7.2</b> What is the standard deviation?</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="what-is-the-mode.html"><a href="what-is-the-mode.html"><i class="fa fa-check"></i><b>8</b> What is the mode?</a>
<ul>
<li class="chapter" data-level="8.1" data-path="what-is-the-mode.html"><a href="what-is-the-mode.html#test-of-normality-shapiro-wilks-test"><i class="fa fa-check"></i><b>8.1</b> Test of normality, Shapiro Wilks Test</a></li>
<li class="chapter" data-level="8.2" data-path="what-is-the-mode.html"><a href="what-is-the-mode.html#tests-of-equality-of-variances"><i class="fa fa-check"></i><b>8.2</b> Tests of Equality of variances</a>
<ul>
<li class="chapter" data-level="8.2.1" data-path="what-is-the-mode.html"><a href="what-is-the-mode.html#the-f-test-of-equality-of-variance"><i class="fa fa-check"></i><b>8.2.1</b> The F-test of equality of variance</a></li>
<li class="chapter" data-level="8.2.2" data-path="what-is-the-mode.html"><a href="what-is-the-mode.html#bartletts-test-of-equality-of-variance"><i class="fa fa-check"></i><b>8.2.2</b> Bartlett’s test of equality of variance</a></li>
<li class="chapter" data-level="8.2.3" data-path="what-is-the-mode.html"><a href="what-is-the-mode.html#brown-forsythe-test-of-equality-of-variance"><i class="fa fa-check"></i><b>8.2.3</b> Brown-Forsythe test of equality of variance</a></li>
<li class="chapter" data-level="8.2.4" data-path="what-is-the-mode.html"><a href="what-is-the-mode.html#levenes-test-testing-for-assumption-of-normality-among-groups"><i class="fa fa-check"></i><b>8.2.4</b> Levene’s Test: testing for assumption of normality among groups</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="non-parametric-tests.html"><a href="non-parametric-tests.html"><i class="fa fa-check"></i><b>9</b> Non-parametric tests</a>
<ul>
<li class="chapter" data-level="9.0.1" data-path="non-parametric-tests.html"><a href="non-parametric-tests.html#wilcoxon-signed-rank-test"><i class="fa fa-check"></i><b>9.0.1</b> Wilcoxon signed-rank test</a></li>
<li class="chapter" data-level="9.0.2" data-path="non-parametric-tests.html"><a href="non-parametric-tests.html#mann-whitney-u-test"><i class="fa fa-check"></i><b>9.0.2</b> Mann-Whitney U test</a></li>
<li class="chapter" data-level="9.0.3" data-path="non-parametric-tests.html"><a href="non-parametric-tests.html#kruskal-wallis-test"><i class="fa fa-check"></i><b>9.0.3</b> Kruskal-Wallis test</a></li>
<li class="chapter" data-level="9.0.4" data-path="non-parametric-tests.html"><a href="non-parametric-tests.html#friedman-test"><i class="fa fa-check"></i><b>9.0.4</b> Friedman test</a></li>
<li class="chapter" data-level="9.0.5" data-path="non-parametric-tests.html"><a href="non-parametric-tests.html#spearmans-rank-correlation"><i class="fa fa-check"></i><b>9.0.5</b> Spearman’s rank correlation</a></li>
<li class="chapter" data-level="9.0.6" data-path="non-parametric-tests.html"><a href="non-parametric-tests.html#kendalls-tau"><i class="fa fa-check"></i><b>9.0.6</b> Kendall’s tau</a></li>
<li class="chapter" data-level="9.1" data-path="non-parametric-tests.html"><a href="non-parametric-tests.html#spearman-vs-kendall-correlations-comparison"><i class="fa fa-check"></i><b>9.1</b> Spearman vs Kendall correlations comparison</a>
<ul>
<li class="chapter" data-level="9.1.1" data-path="non-parametric-tests.html"><a href="non-parametric-tests.html#altenative-to-non-parametric-tests"><i class="fa fa-check"></i><b>9.1.1</b> Altenative to non-parametric tests</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="10" data-path="scatter-plots.html"><a href="scatter-plots.html"><i class="fa fa-check"></i><b>10</b> Scatter Plots</a>
<ul>
<li class="chapter" data-level="10.1" data-path="scatter-plots.html"><a href="scatter-plots.html#basic-scatter-plots"><i class="fa fa-check"></i><b>10.1</b> Basic scatter plots</a></li>
<li class="chapter" data-level="10.2" data-path="scatter-plots.html"><a href="scatter-plots.html#the-lm-function"><i class="fa fa-check"></i><b>10.2</b> the lm() function</a></li>
<li class="chapter" data-level="10.3" data-path="scatter-plots.html"><a href="scatter-plots.html#visualization-of-the-regression"><i class="fa fa-check"></i><b>10.3</b> Visualization of the regression</a></li>
<li class="chapter" data-level="10.4" data-path="scatter-plots.html"><a href="scatter-plots.html#the-impact-of-outliers"><i class="fa fa-check"></i><b>10.4</b> The impact of outliers</a></li>
<li class="chapter" data-level="10.5" data-path="scatter-plots.html"><a href="scatter-plots.html#selling-music-records"><i class="fa fa-check"></i><b>10.5</b> Selling music records</a></li>
<li class="chapter" data-level="10.6" data-path="scatter-plots.html"><a href="scatter-plots.html#linear-regression-assumptions"><i class="fa fa-check"></i><b>10.6</b> Linear Regression Assumptions</a></li>
<li class="chapter" data-level="10.7" data-path="scatter-plots.html"><a href="scatter-plots.html#cooks-distance"><i class="fa fa-check"></i><b>10.7</b> Cook’s Distance</a></li>
<li class="chapter" data-level="10.8" data-path="scatter-plots.html"><a href="scatter-plots.html#steps-to-do-a-linear-regression-analysis"><i class="fa fa-check"></i><b>10.8</b> Steps to do a linear regression analysis</a>
<ul>
<li class="chapter" data-level="10.8.1" data-path="scatter-plots.html"><a href="scatter-plots.html#step-1"><i class="fa fa-check"></i><b>10.8.1</b> Step 1</a></li>
<li class="chapter" data-level="10.8.2" data-path="scatter-plots.html"><a href="scatter-plots.html#step-2"><i class="fa fa-check"></i><b>10.8.2</b> Step 2</a></li>
<li class="chapter" data-level="10.8.3" data-path="scatter-plots.html"><a href="scatter-plots.html#step-3"><i class="fa fa-check"></i><b>10.8.3</b> Step 3</a></li>
</ul></li>
<li class="chapter" data-level="10.9" data-path="scatter-plots.html"><a href="scatter-plots.html#alternative-to-graph-the-residuals"><i class="fa fa-check"></i><b>10.9</b> Alternative to Graph the Residuals</a>
<ul>
<li class="chapter" data-level="10.9.1" data-path="scatter-plots.html"><a href="scatter-plots.html#plot-the-residuals"><i class="fa fa-check"></i><b>10.9.1</b> Plot the residuals</a></li>
<li class="chapter" data-level="10.9.2" data-path="scatter-plots.html"><a href="scatter-plots.html#exercise-1"><i class="fa fa-check"></i><b>10.9.2</b> Exercise 1</a></li>
<li class="chapter" data-level="10.9.3" data-path="scatter-plots.html"><a href="scatter-plots.html#exercise-2"><i class="fa fa-check"></i><b>10.9.3</b> Exercise 2</a></li>
</ul></li>
<li class="chapter" data-level="10.10" data-path="scatter-plots.html"><a href="scatter-plots.html#scatter-plots-with-jitter"><i class="fa fa-check"></i><b>10.10</b> Scatter plots with jitter</a></li>
<li class="chapter" data-level="10.11" data-path="scatter-plots.html"><a href="scatter-plots.html#scatter-plots-with-marginal-histograms"><i class="fa fa-check"></i><b>10.11</b> Scatter plots with marginal histograms</a></li>
<li class="chapter" data-level="10.12" data-path="scatter-plots.html"><a href="scatter-plots.html#scatter-plots-for-multiple-variables"><i class="fa fa-check"></i><b>10.12</b> Scatter plots for multiple variables</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="ring-chart-alternative-to-the-pie-chart.html"><a href="ring-chart-alternative-to-the-pie-chart.html"><i class="fa fa-check"></i><b>11</b> Ring chart (alternative to the pie chart)</a>
<ul>
<li class="chapter" data-level="11.0.1" data-path="ring-chart-alternative-to-the-pie-chart.html"><a href="ring-chart-alternative-to-the-pie-chart.html#adding-values"><i class="fa fa-check"></i><b>11.0.1</b> Adding values</a></li>
<li class="chapter" data-level="11.0.2" data-path="ring-chart-alternative-to-the-pie-chart.html"><a href="ring-chart-alternative-to-the-pie-chart.html#example-of-why-pie-chart-should-not-be-used"><i class="fa fa-check"></i><b>11.0.2</b> Example of why PIE chart should NOT be used</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="histogramsdensity-plots.html"><a href="histogramsdensity-plots.html"><i class="fa fa-check"></i><b>12</b> Histograms/Density Plots</a>
<ul>
<li class="chapter" data-level="12.1" data-path="histogramsdensity-plots.html"><a href="histogramsdensity-plots.html#histograms-with-geom_histogram"><i class="fa fa-check"></i><b>12.1</b> Histograms with geom_histogram</a></li>
<li class="chapter" data-level="12.2" data-path="histogramsdensity-plots.html"><a href="histogramsdensity-plots.html#changing-bin-sizes-with-binwidth"><i class="fa fa-check"></i><b>12.2</b> Changing bin sizes with <em>binwidth</em></a></li>
<li class="chapter" data-level="12.3" data-path="histogramsdensity-plots.html"><a href="histogramsdensity-plots.html#numbers-of-hospital-beds-per-1000-inhabitants-in-different-countries"><i class="fa fa-check"></i><b>12.3</b> Numbers of hospital beds per 1000 inhabitants in different countries</a></li>
<li class="chapter" data-level="12.4" data-path="histogramsdensity-plots.html"><a href="histogramsdensity-plots.html#modifying-continuous-scales-with-scale_y_continuous-and-scale_x_continuous"><i class="fa fa-check"></i><b>12.4</b> Modifying continuous scales with scale_y_continuous and scale_x_continuous</a></li>
<li class="chapter" data-level="12.5" data-path="histogramsdensity-plots.html"><a href="histogramsdensity-plots.html#frequency-and-color-intensity-overlap"><i class="fa fa-check"></i><b>12.5</b> Frequency and color intensity overlap</a></li>
<li class="chapter" data-level="12.6" data-path="histogramsdensity-plots.html"><a href="histogramsdensity-plots.html#position-the-bars-next-to-each-other-with-the-dodge-function"><i class="fa fa-check"></i><b>12.6</b> Position the bars next to each other with the <strong>dodge</strong> function</a></li>
<li class="chapter" data-level="12.7" data-path="histogramsdensity-plots.html"><a href="histogramsdensity-plots.html#group-graphics-with-facet_wrap"><i class="fa fa-check"></i><b>12.7</b> Group graphics with <strong>Facet_wrap</strong></a>
<ul>
<li class="chapter" data-level="12.7.1" data-path="histogramsdensity-plots.html"><a href="histogramsdensity-plots.html#change-chart-colors-manually"><i class="fa fa-check"></i><b>12.7.1</b> Change chart colors manually</a></li>
</ul></li>
<li class="chapter" data-level="12.8" data-path="histogramsdensity-plots.html"><a href="histogramsdensity-plots.html#geom_histogram-options-and-parameters"><i class="fa fa-check"></i><b>12.8</b> <strong>geom_histogram</strong> Options and Parameters:</a></li>
<li class="chapter" data-level="12.9" data-path="histogramsdensity-plots.html"><a href="histogramsdensity-plots.html#densityplots"><i class="fa fa-check"></i><b>12.9</b> DensityPlots</a>
<ul>
<li class="chapter" data-level="12.9.1" data-path="histogramsdensity-plots.html"><a href="histogramsdensity-plots.html#area-density-and-line-histogram-plots-with-geom_dotplot-geom_density-and-geom-freqpoly"><i class="fa fa-check"></i><b>12.9.1</b> Area, density and line histogram plots with <strong>geom_dotplot</strong>, <strong>geom_density</strong> and <strong>geom-freqpoly</strong></a></li>
</ul></li>
<li class="chapter" data-level="12.10" data-path="histogramsdensity-plots.html"><a href="histogramsdensity-plots.html#area-chart-with-geom_area"><i class="fa fa-check"></i><b>12.10</b> Area chart with <strong>geom_area</strong></a>
<ul>
<li class="chapter" data-level="12.10.1" data-path="histogramsdensity-plots.html"><a href="histogramsdensity-plots.html#area-chart-section"><i class="fa fa-check"></i><b>12.10.1</b> Area Chart Section</a></li>
<li class="chapter" data-level="12.10.2" data-path="histogramsdensity-plots.html"><a href="histogramsdensity-plots.html#linetype-types"><i class="fa fa-check"></i><b>12.10.2</b> <strong>linetype</strong> types</a></li>
</ul></li>
<li class="chapter" data-level="12.11" data-path="histogramsdensity-plots.html"><a href="histogramsdensity-plots.html#geom_area-with-multiple-groups"><i class="fa fa-check"></i><b>12.11</b> geom_area with multiple groups</a></li>
<li class="chapter" data-level="12.12" data-path="histogramsdensity-plots.html"><a href="histogramsdensity-plots.html#the-density-function-aesy..density.."><i class="fa fa-check"></i><b>12.12</b> The density function <strong>aes(y=..density..)</strong></a>
<ul>
<li class="chapter" data-level="12.12.1" data-path="histogramsdensity-plots.html"><a href="histogramsdensity-plots.html#geom_area-options-and-parameters"><i class="fa fa-check"></i><b>12.12.1</b> <strong>geom_area</strong> Options and Parameters:</a></li>
</ul></li>
<li class="chapter" data-level="12.13" data-path="histogramsdensity-plots.html"><a href="histogramsdensity-plots.html#density-plot-with-geom_density"><i class="fa fa-check"></i><b>12.13</b> Density plot with <strong>geom_density</strong></a>
<ul>
<li class="chapter" data-level="12.13.1" data-path="histogramsdensity-plots.html"><a href="histogramsdensity-plots.html#what-is-a-kernel"><i class="fa fa-check"></i><b>12.13.1</b> What is a kernel?</a></li>
</ul></li>
<li class="chapter" data-level="12.14" data-path="histogramsdensity-plots.html"><a href="histogramsdensity-plots.html#geom_density-and-simulated-data"><i class="fa fa-check"></i><b>12.14</b> geom_density and simulated data</a>
<ul>
<li class="chapter" data-level="12.14.1" data-path="histogramsdensity-plots.html"><a href="histogramsdensity-plots.html#geom_density-options-and-parameters"><i class="fa fa-check"></i><b>12.14.1</b> <strong>geom_density</strong> Options and Parameters:</a></li>
</ul></li>
<li class="chapter" data-level="12.15" data-path="histogramsdensity-plots.html"><a href="histogramsdensity-plots.html#polygon-frequency-graph-with-geom_freqpoly"><i class="fa fa-check"></i><b>12.15</b> Polygon frequency graph with <strong>geom_freqpoly</strong></a>
<ul>
<li class="chapter" data-level="12.15.1" data-path="histogramsdensity-plots.html"><a href="histogramsdensity-plots.html#opciones-y-parametros-de-geom_freqpoly"><i class="fa fa-check"></i><b>12.15.1</b> Opciones y Parametros de <strong>geom_freqpoly</strong></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="13" data-path="boxplots.html"><a href="boxplots.html"><i class="fa fa-check"></i><b>13</b> Boxplots</a>
<ul>
<li class="chapter" data-level="13.1" data-path="boxplots.html"><a href="boxplots.html#boxplot-with-geom_boxplot"><i class="fa fa-check"></i><b>13.1</b> Boxplot with geom_boxplot</a></li>
<li class="chapter" data-level="13.2" data-path="boxplots.html"><a href="boxplots.html#teoretical-boxplot"><i class="fa fa-check"></i><b>13.2</b> Teoretical boxplot</a>
<ul>
<li class="chapter" data-level="13.2.1" data-path="boxplots.html"><a href="boxplots.html#change-the-width-of-the-boxes"><i class="fa fa-check"></i><b>13.2.1</b> Change the width of the boxes</a></li>
</ul></li>
<li class="chapter" data-level="13.3" data-path="boxplots.html"><a href="boxplots.html#geom_boxplot-options-and-parameters"><i class="fa fa-check"></i><b>13.3</b> <strong>geom_boxplot</strong> Options and Parameters:</a></li>
<li class="chapter" data-level="13.4" data-path="boxplots.html"><a href="boxplots.html#violin-diagram-with-geom_violin"><i class="fa fa-check"></i><b>13.4</b> Violin diagram with <strong>geom_violin</strong></a>
<ul>
<li class="chapter" data-level="13.4.1" data-path="boxplots.html"><a href="boxplots.html#geom_violin-with-multiple-groups"><i class="fa fa-check"></i><b>13.4.1</b> <strong>Geom_violin</strong> with multiple groups</a></li>
<li class="chapter" data-level="13.4.2" data-path="boxplots.html"><a href="boxplots.html#geom_violin-used-with-geom_point-and-geom_jitter"><i class="fa fa-check"></i><b>13.4.2</b> <strong>Geom_violin</strong> used with <strong>geom_point</strong> and <strong>geom_jitter</strong></a></li>
<li class="chapter" data-level="13.4.3" data-path="boxplots.html"><a href="boxplots.html#geom_jitter-and-geom-overlap"><i class="fa fa-check"></i><b>13.4.3</b> geom_jitter and <strong>geom</strong> overlap</a></li>
<li class="chapter" data-level="13.4.4" data-path="boxplots.html"><a href="boxplots.html#quartiles-and-geom_violin"><i class="fa fa-check"></i><b>13.4.4</b> Quartiles and geom_violin</a></li>
<li class="chapter" data-level="13.4.5" data-path="boxplots.html"><a href="boxplots.html#adding-color-to-the-outline-of-the-violin"><i class="fa fa-check"></i><b>13.4.5</b> Adding color to the outline of the violin</a></li>
<li class="chapter" data-level="13.4.6" data-path="boxplots.html"><a href="boxplots.html#geom_violin-by-category-or-factor"><i class="fa fa-check"></i><b>13.4.6</b> geom_violin by category or factor</a></li>
<li class="chapter" data-level="13.4.7" data-path="boxplots.html"><a href="boxplots.html#geom_violin-in-proportion-to-sample-size"><i class="fa fa-check"></i><b>13.4.7</b> Geom_violin in proportion to sample size</a></li>
</ul></li>
<li class="chapter" data-level="13.5" data-path="boxplots.html"><a href="boxplots.html#geom_violin-not-in-proportion-to-sample-size"><i class="fa fa-check"></i><b>13.5</b> geom_violin not in proportion to sample size</a></li>
<li class="chapter" data-level="13.6" data-path="boxplots.html"><a href="boxplots.html#geom_violin-and-orientation-change"><i class="fa fa-check"></i><b>13.6</b> geom_violin and orientation change</a></li>
<li class="chapter" data-level="13.7" data-path="boxplots.html"><a href="boxplots.html#geom_violin-options-and-parameters"><i class="fa fa-check"></i><b>13.7</b> <strong>geom_violin</strong> Options and Parameters:</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="other-visualizations.html"><a href="other-visualizations.html"><i class="fa fa-check"></i><b>14</b> Other visualizations</a>
<ul>
<li class="chapter" data-level="14.1" data-path="other-visualizations.html"><a href="other-visualizations.html#barplot"><i class="fa fa-check"></i><b>14.1</b> Barplot</a></li>
<li class="chapter" data-level="14.2" data-path="other-visualizations.html"><a href="other-visualizations.html#line-chart"><i class="fa fa-check"></i><b>14.2</b> Line chart</a></li>
<li class="chapter" data-level="14.3" data-path="other-visualizations.html"><a href="other-visualizations.html#heat-map"><i class="fa fa-check"></i><b>14.3</b> Heat map</a></li>
<li class="chapter" data-level="14.4" data-path="other-visualizations.html"><a href="other-visualizations.html#plot-of-mean-and-confidence-intervals"><i class="fa fa-check"></i><b>14.4</b> Plot of mean and confidence intervals</a></li>
<li class="chapter" data-level="14.5" data-path="other-visualizations.html"><a href="other-visualizations.html#major-error-caution"><i class="fa fa-check"></i><b>14.5</b> MAJOR error: CAUTION</a></li>
</ul></li>
<li class="chapter" data-level="15" data-path="linear-regression.html"><a href="linear-regression.html"><i class="fa fa-check"></i><b>15</b> Linear Regression</a>
<ul>
<li class="chapter" data-level="15.1" data-path="linear-regression.html"><a href="linear-regression.html#model-of-linear-regression"><i class="fa fa-check"></i><b>15.1</b> Model of linear regression</a></li>
<li class="chapter" data-level="15.2" data-path="linear-regression.html"><a href="linear-regression.html#selling-music-records-1"><i class="fa fa-check"></i><b>15.2</b> Selling music records</a></li>
<li class="chapter" data-level="15.3" data-path="linear-regression.html"><a href="linear-regression.html#cooks-distance-1"><i class="fa fa-check"></i><b>15.3</b> Cook’s Distance</a></li>
</ul></li>
<li class="chapter" data-level="16" data-path="quantile-regression.html"><a href="quantile-regression.html"><i class="fa fa-check"></i><b>16</b> Quantile Regression</a>
<ul>
<li class="chapter" data-level="16.1" data-path="quantile-regression.html"><a href="quantile-regression.html#overview"><i class="fa fa-check"></i><b>16.1</b> Overview</a></li>
<li class="chapter" data-level="16.2" data-path="quantile-regression.html"><a href="quantile-regression.html#the-model"><i class="fa fa-check"></i><b>16.2</b> The model</a></li>
<li class="chapter" data-level="16.3" data-path="quantile-regression.html"><a href="quantile-regression.html#the-assumptions-of-quantile-regression"><i class="fa fa-check"></i><b>16.3</b> The assumptions of quantile regression</a></li>
<li class="chapter" data-level="16.4" data-path="quantile-regression.html"><a href="quantile-regression.html#visualization"><i class="fa fa-check"></i><b>16.4</b> Visualization</a></li>
<li class="chapter" data-level="16.5" data-path="quantile-regression.html"><a href="quantile-regression.html#example-quantile-regression-in-r"><i class="fa fa-check"></i><b>16.5</b> Example: Quantile regression in R</a></li>
<li class="chapter" data-level="16.6" data-path="quantile-regression.html"><a href="quantile-regression.html#the-quantile-regression-model-rq"><i class="fa fa-check"></i><b>16.6</b> The quantile regression model, <code>rq()</code></a></li>
<li class="chapter" data-level="16.7" data-path="quantile-regression.html"><a href="quantile-regression.html#nlrq-function"><i class="fa fa-check"></i><b>16.7</b> nlrq() function</a></li>
<li class="chapter" data-level="16.8" data-path="quantile-regression.html"><a href="quantile-regression.html#multivariate-quantile-regression"><i class="fa fa-check"></i><b>16.8</b> Multivariate quantile regression</a></li>
<li class="chapter" data-level="16.9" data-path="quantile-regression.html"><a href="quantile-regression.html#conclusion-1"><i class="fa fa-check"></i><b>16.9</b> Conclusion</a></li>
</ul></li>
<li class="chapter" data-level="17" data-path="introduction-to-generalized-linear-models.html"><a href="introduction-to-generalized-linear-models.html"><i class="fa fa-check"></i><b>17</b> Introduction to Generalized Linear Models</a>
<ul>
<li class="chapter" data-level="17.1" data-path="introduction-to-generalized-linear-models.html"><a href="introduction-to-generalized-linear-models.html#generalized-linear-models-and-distributions"><i class="fa fa-check"></i><b>17.1</b> Generalized Linear models and distributions</a></li>
<li class="chapter" data-level="17.2" data-path="introduction-to-generalized-linear-models.html"><a href="introduction-to-generalized-linear-models.html#when-the-dependent-variable-is-not-linear"><i class="fa fa-check"></i><b>17.2</b> When the dependent variable is not linear</a></li>
<li class="chapter" data-level="17.3" data-path="introduction-to-generalized-linear-models.html"><a href="introduction-to-generalized-linear-models.html#link-available"><i class="fa fa-check"></i><b>17.3</b> Link available</a></li>
<li class="chapter" data-level="17.4" data-path="introduction-to-generalized-linear-models.html"><a href="introduction-to-generalized-linear-models.html#the-assumptions"><i class="fa fa-check"></i><b>17.4</b> The assumptions</a></li>
<li class="chapter" data-level="17.5" data-path="introduction-to-generalized-linear-models.html"><a href="introduction-to-generalized-linear-models.html#the-advantages-of-glm"><i class="fa fa-check"></i><b>17.5</b> The advantages of GLM</a></li>
<li class="chapter" data-level="17.6" data-path="introduction-to-generalized-linear-models.html"><a href="introduction-to-generalized-linear-models.html#binomial-or-bernoulli-models"><i class="fa fa-check"></i><b>17.6</b> Binomial or Bernoulli models</a>
<ul>
<li class="chapter" data-level="17.6.1" data-path="introduction-to-generalized-linear-models.html"><a href="introduction-to-generalized-linear-models.html#gamma-distribution"><i class="fa fa-check"></i><b>17.6.1</b> Gamma Distribution</a></li>
</ul></li>
<li class="chapter" data-level="17.7" data-path="introduction-to-generalized-linear-models.html"><a href="introduction-to-generalized-linear-models.html#the-basic-parameters-of-the-gamma."><i class="fa fa-check"></i><b>17.7</b> The basic parameters of the gamma.</a>
<ul>
<li class="chapter" data-level="17.7.1" data-path="introduction-to-generalized-linear-models.html"><a href="introduction-to-generalized-linear-models.html#the-inverse-gaussian-distribution"><i class="fa fa-check"></i><b>17.7.1</b> The Inverse Gaussian distribution</a></li>
</ul></li>
<li class="chapter" data-level="17.8" data-path="introduction-to-generalized-linear-models.html"><a href="introduction-to-generalized-linear-models.html#evaluating-distributions"><i class="fa fa-check"></i><b>17.8</b> Evaluating distributions</a></li>
<li class="chapter" data-level="17.9" data-path="introduction-to-generalized-linear-models.html"><a href="introduction-to-generalized-linear-models.html#poisson-regression"><i class="fa fa-check"></i><b>17.9</b> Poisson regression</a></li>
<li class="chapter" data-level="17.10" data-path="introduction-to-generalized-linear-models.html"><a href="introduction-to-generalized-linear-models.html#negative-binomial-regression"><i class="fa fa-check"></i><b>17.10</b> Negative binomial regression</a>
<ul>
<li class="chapter" data-level="17.10.1" data-path="introduction-to-generalized-linear-models.html"><a href="introduction-to-generalized-linear-models.html#comparing-dispersion-models"><i class="fa fa-check"></i><b>17.10.1</b> Comparing dispersion models</a></li>
<li class="chapter" data-level="17.10.2" data-path="introduction-to-generalized-linear-models.html"><a href="introduction-to-generalized-linear-models.html#alternative-approach-to-compare-the-poisson-and-the-negative-binomial-model."><i class="fa fa-check"></i><b>17.10.2</b> Alternative approach to compare the Poisson and the negative binomial model.</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="18" data-path="binomial_regression.html"><a href="binomial_regression.html"><i class="fa fa-check"></i><b>18</b> Binomial_Regression</a>
<ul>
<li class="chapter" data-level="18.1" data-path="binomial_regression.html"><a href="binomial_regression.html#binomial-regression"><i class="fa fa-check"></i><b>18.1</b> Binomial regression</a></li>
<li class="chapter" data-level="18.2" data-path="binomial_regression.html"><a href="binomial_regression.html#creating-the-binomial-model"><i class="fa fa-check"></i><b>18.2</b> Creating the binomial model</a></li>
<li class="chapter" data-level="18.3" data-path="binomial_regression.html"><a href="binomial_regression.html#second-example-of-logistic-regression"><i class="fa fa-check"></i><b>18.3</b> Second example of logistic regression</a></li>
<li class="chapter" data-level="18.4" data-path="binomial_regression.html"><a href="binomial_regression.html#the-logit-link"><i class="fa fa-check"></i><b>18.4</b> The logit link</a></li>
<li class="chapter" data-level="18.5" data-path="binomial_regression.html"><a href="binomial_regression.html#the-probit-link"><i class="fa fa-check"></i><b>18.5</b> The probit link</a></li>
<li class="chapter" data-level="18.6" data-path="binomial_regression.html"><a href="binomial_regression.html#evaluating-assumptions-of-the-binomial-model"><i class="fa fa-check"></i><b>18.6</b> Evaluating assumptions of the binomial model</a></li>
<li class="chapter" data-level="18.7" data-path="binomial_regression.html"><a href="binomial_regression.html#overdispersion"><i class="fa fa-check"></i><b>18.7</b> Overdispersion</a></li>
</ul></li>
<li class="chapter" data-level="19" data-path="poisson-regression-1.html"><a href="poisson-regression-1.html"><i class="fa fa-check"></i><b>19</b> Poisson Regression</a>
<ul>
<li class="chapter" data-level="19.1" data-path="poisson-regression-1.html"><a href="poisson-regression-1.html#visualize-the-data"><i class="fa fa-check"></i><b>19.1</b> Visualize the data</a></li>
<li class="chapter" data-level="19.2" data-path="poisson-regression-1.html"><a href="poisson-regression-1.html#creating-a-poisson-model"><i class="fa fa-check"></i><b>19.2</b> Creating a Poisson model</a></li>
<li class="chapter" data-level="19.3" data-path="poisson-regression-1.html"><a href="poisson-regression-1.html#overdispersion-in-a-poisson-model"><i class="fa fa-check"></i><b>19.3</b> Overdispersion in a Poisson model</a></li>
<li class="chapter" data-level="19.4" data-path="poisson-regression-1.html"><a href="poisson-regression-1.html#negative-binomial-regression-1"><i class="fa fa-check"></i><b>19.4</b> Negative binomial regression</a></li>
<li class="chapter" data-level="19.5" data-path="poisson-regression-1.html"><a href="poisson-regression-1.html#visualization-of-the-negative-binomial-model"><i class="fa fa-check"></i><b>19.5</b> Visualization of the negative binomial model</a></li>
<li class="chapter" data-level="19.6" data-path="poisson-regression-1.html"><a href="poisson-regression-1.html#creating-the-negative-binomial-model"><i class="fa fa-check"></i><b>19.6</b> Creating the negative binomial model</a>
<ul>
<li class="chapter" data-level="19.6.1" data-path="poisson-regression-1.html"><a href="poisson-regression-1.html#comparing-dispersion-models-1"><i class="fa fa-check"></i><b>19.6.1</b> Comparing dispersion models</a></li>
<li class="chapter" data-level="19.6.2" data-path="poisson-regression-1.html"><a href="poisson-regression-1.html#alternative-approach-to-compare-the-poisson-and-the-negative-binomial-model.-1"><i class="fa fa-check"></i><b>19.6.2</b> Alternative approach to compare the Poisson and the negative binomial model.</a></li>
</ul></li>
<li class="chapter" data-level="19.7" data-path="poisson-regression-1.html"><a href="poisson-regression-1.html#overlaying-the-poisson-and-the-negative-binomial-models"><i class="fa fa-check"></i><b>19.7</b> Overlaying the Poisson and the Negative binomial models</a></li>
</ul></li>
<li class="chapter" data-level="20" data-path="multinomial-logit-analysis.html"><a href="multinomial-logit-analysis.html"><i class="fa fa-check"></i><b>20</b> Multinomial logit analysis</a>
<ul>
<li class="chapter" data-level="20.0.1" data-path="multinomial-logit-analysis.html"><a href="multinomial-logit-analysis.html#load-libraries"><i class="fa fa-check"></i><b>20.0.1</b> Load libraries</a></li>
<li class="chapter" data-level="20.0.2" data-path="multinomial-logit-analysis.html"><a href="multinomial-logit-analysis.html#data"><i class="fa fa-check"></i><b>20.0.2</b> Data</a></li>
<li class="chapter" data-level="20.0.3" data-path="multinomial-logit-analysis.html"><a href="multinomial-logit-analysis.html#model"><i class="fa fa-check"></i><b>20.0.3</b> Model</a></li>
<li class="chapter" data-level="20.0.4" data-path="multinomial-logit-analysis.html"><a href="multinomial-logit-analysis.html#assumptions"><i class="fa fa-check"></i><b>20.0.4</b> Assumptions</a></li>
<li class="chapter" data-level="20.0.5" data-path="multinomial-logit-analysis.html"><a href="multinomial-logit-analysis.html#post-estimation-analysis"><i class="fa fa-check"></i><b>20.0.5</b> Post estimation analysis</a></li>
</ul></li>
<li class="chapter" data-level="21" data-path="beta-regression.html"><a href="beta-regression.html"><i class="fa fa-check"></i><b>21</b> Beta Regression</a>
<ul>
<li class="chapter" data-level="21.1" data-path="beta-regression.html"><a href="beta-regression.html#what-is-a-beta-regression"><i class="fa fa-check"></i><b>21.1</b> What is a beta regression?</a></li>
<li class="chapter" data-level="21.2" data-path="beta-regression.html"><a href="beta-regression.html#what-is-the-problem-with-the-data"><i class="fa fa-check"></i><b>21.2</b> What is the problem with the data?</a></li>
<li class="chapter" data-level="21.3" data-path="beta-regression.html"><a href="beta-regression.html#first-step-what-is-a-beta-distribution"><i class="fa fa-check"></i><b>21.3</b> First step, what is a beta distribution?</a></li>
<li class="chapter" data-level="21.4" data-path="beta-regression.html"><a href="beta-regression.html#wikipedia"><i class="fa fa-check"></i><b>21.4</b> Wikipedia</a></li>
<li class="chapter" data-level="21.5" data-path="beta-regression.html"><a href="beta-regression.html#proportion-of-smokers-in-different-countries"><i class="fa fa-check"></i><b>21.5</b> Proportion of smokers in different countries</a></li>
<li class="chapter" data-level="21.6" data-path="beta-regression.html"><a href="beta-regression.html#convert-the-mean-and-variance-into-shape-alpha-and-beta"><i class="fa fa-check"></i><b>21.6</b> Convert the mean and variance into shape <span class="math inline">\(\alpha\)</span> and <span class="math inline">\(\beta\)</span></a></li>
<li class="chapter" data-level="21.7" data-path="beta-regression.html"><a href="beta-regression.html#visualization-of-the-distribution-with-ci."><i class="fa fa-check"></i><b>21.7</b> Visualization of the distribution with CI.</a></li>
<li class="chapter" data-level="21.8" data-path="beta-regression.html"><a href="beta-regression.html#regression-model"><i class="fa fa-check"></i><b>21.8</b> Regression model</a></li>
<li class="chapter" data-level="21.9" data-path="beta-regression.html"><a href="beta-regression.html#regresión-beta-proporción-de-frutos-por-cantidad-de-flores"><i class="fa fa-check"></i><b>21.9</b> Regresión beta, proporción de frutos por cantidad de flores</a></li>
<li class="chapter" data-level="21.10" data-path="beta-regression.html"><a href="beta-regression.html#visualize-the-beta-regression"><i class="fa fa-check"></i><b>21.10</b> Visualize the beta regression</a></li>
<li class="chapter" data-level="21.11" data-path="beta-regression.html"><a href="beta-regression.html#compare-the-traditional-linear-model-versus-a-beta-model"><i class="fa fa-check"></i><b>21.11</b> Compare the traditional linear model versus a beta model</a></li>
<li class="chapter" data-level="21.12" data-path="beta-regression.html"><a href="beta-regression.html#distribution-of-specific-values"><i class="fa fa-check"></i><b>21.12</b> Distribution of specific values</a></li>
</ul></li>
<li class="chapter" data-level="22" data-path="auto-regressive-vectorial-analysis.html"><a href="auto-regressive-vectorial-analysis.html"><i class="fa fa-check"></i><b>22</b> Auto Regressive Vectorial Analysis</a></li>
<li class="chapter" data-level="23" data-path="chi-square-testcontingency-tables.html"><a href="chi-square-testcontingency-tables.html"><i class="fa fa-check"></i><b>23</b> Chi-square test/Contingency tables</a>
<ul>
<li class="chapter" data-level="23.1" data-path="chi-square-testcontingency-tables.html"><a href="chi-square-testcontingency-tables.html#count-data"><i class="fa fa-check"></i><b>23.1</b> Count data</a></li>
<li class="chapter" data-level="23.2" data-path="chi-square-testcontingency-tables.html"><a href="chi-square-testcontingency-tables.html#chi-square-test"><i class="fa fa-check"></i><b>23.2</b> Chi-square test</a></li>
<li class="chapter" data-level="23.3" data-path="chi-square-testcontingency-tables.html"><a href="chi-square-testcontingency-tables.html#contingency-tables"><i class="fa fa-check"></i><b>23.3</b> Contingency tables</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Quantitative Agricultural Economics</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="data-wrangling" class="section level1 hasAnchor" number="5">
<h1><span class="header-section-number">Chapter5</span> Data wrangling<a href="data-wrangling.html#data-wrangling" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>A major component of data analysis is data wrangling. This is the process of cleaning and transforming raw data into a usable format. This is a critical step in the data analysis process, as the quality of the data will directly impact the quality of the analysis. In this section, we will cover some common data wrangling tasks in R, including cleaning data, transforming data, and handling missing values.</p>
<p>In general this will be the most time consuming period of your analysis, cleaning the names of the variables, deleting variables, changing names of levels/factors, finding missing values, etc. A major issue will always be the missing values, and how to deal with them in addition to resolving the issues of the data such as outliers and non sensical data. In almost all project data wrangling will incolve more than 80% of your time and that data anlysis usually less than 20% of your time.</p>
<p>In this chapter we will cover the following topics: <strong>Put in the same order as the code in the text</strong></p>
<ul>
<li>Cleaning column names with <strong>janitor</strong> and <strong>clean_names</strong></li>
<li>Changing the names to variables with <strong>rename</strong></li>
<li>Deleting variables with <strong>select</strong></li>
<li>Changing names of levels/factors with <strong>fct_recode</strong></li>
<li>Finding missing values with <strong>is.na</strong> and <strong>summary</strong></li>
<li>Subsetting data set with <strong>filter</strong></li>
<li>Select variables based on conditions with <strong>select</strong></li>
<li>Filter rows based on conditions with <strong>filter</strong></li>
<li>Arrange rows based on a variable with <strong>arrange</strong></li>
<li>Calculate new variables based on existing variables with <strong>mutate</strong></li>
<li>Exclude NA values with <strong>complete.cases</strong> and <strong>na.omit</strong></li>
<li>Group data by a variable with <strong>group_by</strong></li>
<li>Summarize data by a variable with <strong>summarize</strong></li>
<li>Join data frames with <strong>left_join</strong>, <strong>right_join</strong>, <strong>inner_join</strong>, and <strong>full_join</strong></li>
<li>Reshape data with <strong>pivot_longer</strong> and <strong>pivot_wider</strong></li>
<li>Export data with as .csv file with <strong>write_csv</strong> or a Excel file with <strong>write_xlsx</strong></li>
</ul>
<div id="cleaning-column-names" class="section level2 hasAnchor" number="5.1">
<h2><span class="header-section-number">5.1</span> Cleaning column names<a href="data-wrangling.html#cleaning-column-names" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="cleaning-the-names-of-the-variables-with-janitor" class="section level3 hasAnchor" number="5.1.1">
<h3><span class="header-section-number">5.1.1</span> Cleaning the names of the variables with <strong>janitor</strong><a href="data-wrangling.html#cleaning-the-names-of-the-variables-with-janitor" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The easiest part is likely to clean the names of the variables (column names). This can be done with the <code>janitor</code> package. This package has a function called <code>clean_names</code> that will organize the names of the variables in a data frame with specific charatceristics. This function will convert the names to lowercase, remove special characters, and replace spaces with underscores. This will make the names of the variables more consistent and easier to work with. Sometime older functions in R will not work with variables that have spaces or special characters, such as (é, ü, &amp;, %, ect).</p>
<p>Let us start with a dirty data frame with the following problems:</p>
<ul>
<li>the names of the variables are in uppercase</li>
<li>the names of the variables have spaces</li>
<li>the names of the variables have special characters</li>
<li>the names of the variables are too long</li>
<li>the names of the variables are not consistent</li>
<li>the names of the variables are not informative</li>
</ul>
<div class="sourceCode" id="cb34"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb34-1"><a href="data-wrangling.html#cb34-1" tabindex="-1"></a><span class="fu">library</span>(tibble)</span>
<span id="cb34-2"><a href="data-wrangling.html#cb34-2" tabindex="-1"></a></span>
<span id="cb34-3"><a href="data-wrangling.html#cb34-3" tabindex="-1"></a>Dirty_data<span class="ot">=</span><span class="fu">tribble</span>(<span class="sc">~</span><span class="st">&quot;Name&quot;</span>, <span class="sc">~</span><span class="st">&quot;Age ^2&quot;</span>, <span class="sc">~</span><span class="st">&quot;Height (m)&quot;</span>, <span class="sc">~</span><span class="st">&quot;% of value&quot;</span>, <span class="sc">~</span><span class="st">&quot;Date of Birth&quot;</span>, <span class="sc">~</span><span class="st">&quot;Place of Birth&quot;</span>,</span>
<span id="cb34-4"><a href="data-wrangling.html#cb34-4" tabindex="-1"></a>                   <span class="st">&quot;Alice&quot;</span>, <span class="dv">25</span>, <span class="fl">1.70</span>, .<span class="dv">70</span>, <span class="st">&quot;1997-01-01&quot;</span>, <span class="st">&quot;New York City Manhathan&quot;</span>,</span>
<span id="cb34-5"><a href="data-wrangling.html#cb34-5" tabindex="-1"></a>                   <span class="st">&quot;Bob&quot;</span>, <span class="dv">30</span>, <span class="fl">1.80</span>, .<span class="dv">80</span>, <span class="st">&quot;1992-01-01&quot;</span>, <span class="st">&quot;Los Angeles&quot;</span>,</span>
<span id="cb34-6"><a href="data-wrangling.html#cb34-6" tabindex="-1"></a>                   <span class="st">&quot;Charlie&quot;</span>, <span class="dv">35</span>, <span class="cn">NA</span>, .<span class="dv">90</span>, <span class="st">&quot;1987-01-01&quot;</span>, <span class="cn">NA</span>)</span>
<span id="cb34-7"><a href="data-wrangling.html#cb34-7" tabindex="-1"></a> </span>
<span id="cb34-8"><a href="data-wrangling.html#cb34-8" tabindex="-1"></a>Dirty_data                  </span></code></pre></div>
<pre><code>## # A tibble: 3 × 6
##   Name    `Age ^2` `Height (m)` `% of value` `Date of Birth` `Place of Birth`   
##   &lt;chr&gt;      &lt;dbl&gt;        &lt;dbl&gt;        &lt;dbl&gt; &lt;chr&gt;           &lt;chr&gt;              
## 1 Alice         25          1.7          0.7 1997-01-01      New York City Manh…
## 2 Bob           30          1.8          0.8 1992-01-01      Los Angeles        
## 3 Charlie       35         NA            0.9 1987-01-01      &lt;NA&gt;</code></pre>
</div>
<div id="now-let-us-clean-the-names-of-the-variables" class="section level3 hasAnchor" number="5.1.2">
<h3><span class="header-section-number">5.1.2</span> Now let us clean the names of the variables<a href="data-wrangling.html#now-let-us-clean-the-names-of-the-variables" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Note the following changes</p>
<ul>
<li>all are in lowercase</li>
<li>the spaces are replaced by underscores</li>
<li>the special characters are removed and even given new names</li>
<li>the names are more informative</li>
<li>the names are more consistent</li>
</ul>
<div class="sourceCode" id="cb36"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb36-1"><a href="data-wrangling.html#cb36-1" tabindex="-1"></a><span class="fu">library</span>(janitor)</span>
<span id="cb36-2"><a href="data-wrangling.html#cb36-2" tabindex="-1"></a></span>
<span id="cb36-3"><a href="data-wrangling.html#cb36-3" tabindex="-1"></a>Clean_df_clean<span class="ot">=</span><span class="fu">clean_names</span>(Dirty_data)</span>
<span id="cb36-4"><a href="data-wrangling.html#cb36-4" tabindex="-1"></a></span>
<span id="cb36-5"><a href="data-wrangling.html#cb36-5" tabindex="-1"></a>Clean_df<span class="ot">=</span> Clean_df_clean</span></code></pre></div>
</div>
</div>
<div id="changing-the-names-to-variables" class="section level2 hasAnchor" number="5.2">
<h2><span class="header-section-number">5.2</span> Changing the names to variables<a href="data-wrangling.html#changing-the-names-to-variables" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>To change the names of the variables in a data frame, you can use the <code>rename</code> function from the <code>dplyr</code> package. This function allows you to specify the new names of the variables using the <code>new_name = old_name</code> syntax. For example, to change the name of the <code>name</code> variable to <code>first_name</code> in a data frame called <code>df</code>, you would run:</p>
<p>Changing the names of the variables is a common data wrangling task that can help make your data more readable and easier to work with. By using the <code>rename</code> function, you can quickly and easily change the names of the variables in a data frame to better reflect the data they contain.</p>
<p>We will replace the name of the variable <code>name</code> to <code>full_name</code> in the data frame <code>Clean_df</code>.</p>
<div class="sourceCode" id="cb37"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb37-1"><a href="data-wrangling.html#cb37-1" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span></code></pre></div>
<pre><code>## 
## Attaching package: &#39;dplyr&#39;</code></pre>
<pre><code>## The following objects are masked from &#39;package:data.table&#39;:
## 
##     between, first, last</code></pre>
<pre><code>## The following objects are masked from &#39;package:stats&#39;:
## 
##     filter, lag</code></pre>
<pre><code>## The following objects are masked from &#39;package:base&#39;:
## 
##     intersect, setdiff, setequal, union</code></pre>
<div class="sourceCode" id="cb42"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb42-1"><a href="data-wrangling.html#cb42-1" tabindex="-1"></a>Clean_df <span class="ot">&lt;-</span> Clean_df <span class="sc">%&gt;%</span> <span class="fu">rename</span>(<span class="at">first_name =</span> name)</span>
<span id="cb42-2"><a href="data-wrangling.html#cb42-2" tabindex="-1"></a></span>
<span id="cb42-3"><a href="data-wrangling.html#cb42-3" tabindex="-1"></a>Clean_df <span class="co"># observe the change in the name of the variable</span></span></code></pre></div>
<pre><code>## # A tibble: 3 × 6
##   first_name age_2 height_m percent_of_value date_of_birth place_of_birth       
##   &lt;chr&gt;      &lt;dbl&gt;    &lt;dbl&gt;            &lt;dbl&gt; &lt;chr&gt;         &lt;chr&gt;                
## 1 Alice         25      1.7              0.7 1997-01-01    New York City Manhat…
## 2 Bob           30      1.8              0.8 1992-01-01    Los Angeles          
## 3 Charlie       35     NA                0.9 1987-01-01    &lt;NA&gt;</code></pre>
</div>
<div id="deleting-variables" class="section level2 hasAnchor" number="5.3">
<h2><span class="header-section-number">5.3</span> Deleting variables<a href="data-wrangling.html#deleting-variables" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>We can delete variables from a data frame using the <code>select</code> function from the <code>dplyr</code> package. This function allows you to select a subset of variables from a data frame by specifying the variables you want to keep. To delete a variable from a data frame, you can simply exclude it from the list of variables you want to keep. For example, to delete the <code>age_2</code> variable from a data frame called <code>df</code>, you would run:</p>
<div class="sourceCode" id="cb44"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb44-1"><a href="data-wrangling.html#cb44-1" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb44-2"><a href="data-wrangling.html#cb44-2" tabindex="-1"></a></span>
<span id="cb44-3"><a href="data-wrangling.html#cb44-3" tabindex="-1"></a>Clean_df <span class="ot">&lt;-</span> Clean_df <span class="sc">%&gt;%</span> <span class="fu">select</span>(<span class="sc">-</span>age_2)</span>
<span id="cb44-4"><a href="data-wrangling.html#cb44-4" tabindex="-1"></a></span>
<span id="cb44-5"><a href="data-wrangling.html#cb44-5" tabindex="-1"></a>Clean_df <span class="co"># observe the change in the data frame, now the column is removed</span></span></code></pre></div>
<pre><code>## # A tibble: 3 × 5
##   first_name height_m percent_of_value date_of_birth place_of_birth         
##   &lt;chr&gt;         &lt;dbl&gt;            &lt;dbl&gt; &lt;chr&gt;         &lt;chr&gt;                  
## 1 Alice           1.7              0.7 1997-01-01    New York City Manhathan
## 2 Bob             1.8              0.8 1992-01-01    Los Angeles            
## 3 Charlie        NA                0.9 1987-01-01    &lt;NA&gt;</code></pre>
</div>
<div id="changing-names-of-levelsfactors" class="section level2 hasAnchor" number="5.4">
<h2><span class="header-section-number">5.4</span> Changing names of levels/factors<a href="data-wrangling.html#changing-names-of-levelsfactors" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>We can change the names of the levels or factors in variable using the <code>fct_recode</code> function from the <code>forcats</code> package. Let us recode the name of the cities.</p>
<div class="sourceCode" id="cb46"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb46-1"><a href="data-wrangling.html#cb46-1" tabindex="-1"></a><span class="fu">library</span>(forcats)</span>
<span id="cb46-2"><a href="data-wrangling.html#cb46-2" tabindex="-1"></a></span>
<span id="cb46-3"><a href="data-wrangling.html#cb46-3" tabindex="-1"></a>Clean_df<span class="sc">$</span>place_of_birth <span class="ot">&lt;-</span> <span class="fu">fct_recode</span>(Clean_df<span class="sc">$</span>place_of_birth,</span>
<span id="cb46-4"><a href="data-wrangling.html#cb46-4" tabindex="-1"></a>                                      <span class="st">&quot;NY&quot;</span> <span class="ot">=</span> <span class="st">&quot;New York City Manhathan&quot;</span>,</span>
<span id="cb46-5"><a href="data-wrangling.html#cb46-5" tabindex="-1"></a>                                      <span class="st">&quot;LA&quot;</span> <span class="ot">=</span> <span class="st">&quot;Los Angeles&quot;</span>)</span>
<span id="cb46-6"><a href="data-wrangling.html#cb46-6" tabindex="-1"></a></span>
<span id="cb46-7"><a href="data-wrangling.html#cb46-7" tabindex="-1"></a>Clean_df <span class="co"># observe the change in the data frame, now the names of the cities are recoded</span></span></code></pre></div>
<pre><code>## # A tibble: 3 × 5
##   first_name height_m percent_of_value date_of_birth place_of_birth
##   &lt;chr&gt;         &lt;dbl&gt;            &lt;dbl&gt; &lt;chr&gt;         &lt;fct&gt;         
## 1 Alice           1.7              0.7 1997-01-01    NY            
## 2 Bob             1.8              0.8 1992-01-01    LA            
## 3 Charlie        NA                0.9 1987-01-01    &lt;NA&gt;</code></pre>
</div>
<div id="finding-missing-values" class="section level2 hasAnchor" number="5.5">
<h2><span class="header-section-number">5.5</span> Finding missing values<a href="data-wrangling.html#finding-missing-values" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>One of the challenges is detecting missing value in large data sets. The <code>is.na</code> function can be used to detect missing values in a data frame. This function returns a logical vector that indicates whether each element in the data frame is missing or not. For example, to find missing values in a data frame called <code>df</code>, you would run:</p>
<p>Note that when there is missing data, the function will return a logical vector with <code>TRUE</code> for missing values and <code>FALSE</code> for non-missing values.</p>
<div class="sourceCode" id="cb48"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb48-1"><a href="data-wrangling.html#cb48-1" tabindex="-1"></a><span class="fu">is.na</span>(Clean_df) <span class="co"># this will return a logical vector indicating whether each element in the data frame is missing or not</span></span></code></pre></div>
<pre><code>##      first_name height_m percent_of_value date_of_birth place_of_birth
## [1,]      FALSE    FALSE            FALSE         FALSE          FALSE
## [2,]      FALSE    FALSE            FALSE         FALSE          FALSE
## [3,]      FALSE     TRUE            FALSE         FALSE           TRUE</code></pre>
<p>The following code is acceptible for small data set, but for large data sets it is better to use the <code>summary</code> function. This function will return a summary of the data frame, including the number of missing values in each variable. For example, to get a summary of the missing values in a data frame called <code>df</code>, you would run:</p>
<p>Note here that the place of birth for Charlie is missing, it has an NA value in addition to the height_m of an individual.</p>
<div class="sourceCode" id="cb50"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb50-1"><a href="data-wrangling.html#cb50-1" tabindex="-1"></a><span class="fu">summary</span>(Clean_df) <span class="co"># this will return a summary of the data frame, including the number of missing values in each variable</span></span></code></pre></div>
<pre><code>##   first_name           height_m     percent_of_value date_of_birth     
##  Length:3           Min.   :1.700   Min.   :0.70     Length:3          
##  Class :character   1st Qu.:1.725   1st Qu.:0.75     Class :character  
##  Mode  :character   Median :1.750   Median :0.80     Mode  :character  
##                     Mean   :1.750   Mean   :0.80                       
##                     3rd Qu.:1.775   3rd Qu.:0.85                       
##                     Max.   :1.800   Max.   :0.90                       
##                     NA&#39;s   :1                                          
##  place_of_birth
##  LA  :1        
##  NY  :1        
##  NA&#39;s:1        
##                
##                
##                
## </code></pre>
</div>
<div id="section" class="section level2" number="5.6">
<h2><span class="header-section-number">5.6</span> </h2>
<p>Subset all rows with missing values in the variables. This will result in a rwo that will include only Charlie.</p>
<p>Subset all rows with missing values in the variables. This will result in a rwo that will include only Charlie. NOTE the the command is the <strong>!</strong> symbol before the <code>complete.cases</code> function. This will return all rows with missing values in the data frame.</p>
<div class="sourceCode" id="cb52"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb52-1"><a href="data-wrangling.html#cb52-1" tabindex="-1"></a>Clean_df[<span class="sc">!</span><span class="fu">complete.cases</span>(Clean_df), ] <span class="co"># this will return all rows with missing values in the data frame</span></span></code></pre></div>
<pre><code>## # A tibble: 1 × 5
##   first_name height_m percent_of_value date_of_birth place_of_birth
##   &lt;chr&gt;         &lt;dbl&gt;            &lt;dbl&gt; &lt;chr&gt;         &lt;fct&gt;         
## 1 Charlie          NA              0.9 1987-01-01    &lt;NA&gt;</code></pre>
<p>Note if you want subset all rows with NO missing values in the variables. This will result in a two rows that will include only Alice and Bob.</p>
<div class="sourceCode" id="cb54"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb54-1"><a href="data-wrangling.html#cb54-1" tabindex="-1"></a>Clean_df[<span class="fu">complete.cases</span>(Clean_df), ] <span class="co"># this will return all rows with NO missing values in the data frame</span></span></code></pre></div>
<pre><code>## # A tibble: 2 × 5
##   first_name height_m percent_of_value date_of_birth place_of_birth
##   &lt;chr&gt;         &lt;dbl&gt;            &lt;dbl&gt; &lt;chr&gt;         &lt;fct&gt;         
## 1 Alice           1.7              0.7 1997-01-01    NY            
## 2 Bob             1.8              0.8 1992-01-01    LA</code></pre>
</div>
<div id="exclude-na-values-from-a-specific-variable-with-drop_na" class="section level2 hasAnchor" number="5.7">
<h2><span class="header-section-number">5.7</span> Exclude NA values from a specific variable with <strong>drop_na</strong><a href="data-wrangling.html#exclude-na-values-from-a-specific-variable-with-drop_na" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>This function will exclude missing values from a specific variable in a data frame. For example, to exclude missing values from the <code>place_of_birth</code> variable in a data frame called <code>Clean_df</code>. Note it removes the row with the missing value in the place of birth variable.</p>
<div class="sourceCode" id="cb56"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb56-1"><a href="data-wrangling.html#cb56-1" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span></code></pre></div>
<pre><code>## ── Attaching core tidyverse packages ──────────────
## ✔ ggplot2   3.5.2     ✔ stringr   1.5.1
## ✔ lubridate 1.9.4     ✔ tidyr     1.3.1
## ✔ purrr     1.0.4     
## ── Conflicts ───────────── tidyverse_conflicts() ──
## ✖ dplyr::between()     masks data.table::between()
## ✖ dplyr::filter()      masks stats::filter()
## ✖ dplyr::first()       masks data.table::first()
## ✖ lubridate::hour()    masks data.table::hour()
## ✖ lubridate::isoweek() masks data.table::isoweek()
## ✖ dplyr::lag()         masks stats::lag()
## ✖ dplyr::last()        masks data.table::last()
## ✖ lubridate::mday()    masks data.table::mday()
## ✖ lubridate::minute()  masks data.table::minute()
## ✖ lubridate::month()   masks data.table::month()
## ✖ lubridate::quarter() masks data.table::quarter()
## ✖ lubridate::second()  masks data.table::second()
## ✖ purrr::transpose()   masks data.table::transpose()
## ✖ lubridate::wday()    masks data.table::wday()
## ✖ lubridate::week()    masks data.table::week()
## ✖ lubridate::yday()    masks data.table::yday()
## ✖ lubridate::year()    masks data.table::year()
## ℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors</code></pre>
<div class="sourceCode" id="cb58"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb58-1"><a href="data-wrangling.html#cb58-1" tabindex="-1"></a>Clean_df <span class="sc">|&gt;</span> <span class="fu">drop_na</span>(place_of_birth) <span class="co"># this will return all rows with missing values in the place of birth variable</span></span></code></pre></div>
<pre><code>## # A tibble: 2 × 5
##   first_name height_m percent_of_value date_of_birth place_of_birth
##   &lt;chr&gt;         &lt;dbl&gt;            &lt;dbl&gt; &lt;chr&gt;         &lt;fct&gt;         
## 1 Alice           1.7              0.7 1997-01-01    NY            
## 2 Bob             1.8              0.8 1992-01-01    LA</code></pre>
</div>
<div id="subsetting-data-set" class="section level2 hasAnchor" number="5.8">
<h2><span class="header-section-number">5.8</span> Subsetting data set<a href="data-wrangling.html#subsetting-data-set" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The function to subset a data frame is <code>filter</code>. This function is used to extract rows from a data frame that meet a certain condition. The syntax for the <code>filter</code> function is as follows:</p>
<div class="sourceCode" id="cb60"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb60-1"><a href="data-wrangling.html#cb60-1" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb60-2"><a href="data-wrangling.html#cb60-2" tabindex="-1"></a></span>
<span id="cb60-3"><a href="data-wrangling.html#cb60-3" tabindex="-1"></a>Clean_df_clean <span class="sc">%&gt;%</span> <span class="fu">filter</span>(age_2 <span class="sc">&gt;</span> <span class="dv">29</span>) <span class="co"># this will return all rows where the age is greater than 29</span></span></code></pre></div>
<pre><code>## # A tibble: 2 × 6
##   name    age_2 height_m percent_of_value date_of_birth place_of_birth
##   &lt;chr&gt;   &lt;dbl&gt;    &lt;dbl&gt;            &lt;dbl&gt; &lt;chr&gt;         &lt;chr&gt;         
## 1 Bob        30      1.8              0.8 1992-01-01    Los Angeles   
## 2 Charlie    35     NA                0.9 1987-01-01    &lt;NA&gt;</code></pre>
</div>
<div id="titanic-data-set" class="section level2 hasAnchor" number="5.9">
<h2><span class="header-section-number">5.9</span> Titanic data set<a href="data-wrangling.html#titanic-data-set" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div class="sourceCode" id="cb62"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb62-1"><a href="data-wrangling.html#cb62-1" tabindex="-1"></a><span class="fu">library</span>(readr)</span>
<span id="cb62-2"><a href="data-wrangling.html#cb62-2" tabindex="-1"></a>Titanic <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;Data/ Titanic.csv&quot;</span>) <span class="co"># The data is in the &quot;DATA&quot; folder</span></span></code></pre></div>
<pre><code>## Rows: 1309 Columns: 12
## ── Column specification ───────────────────────────
## Delimiter: &quot;,&quot;
## chr (5): Name, Sex, Ticket, Cabin, Embarked
## dbl (7): PassengerId, Survived, Pclass, Age, SibSp, Parch, Fare
## 
## ℹ Use `spec()` to retrieve the full column specification for this data.
## ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.</code></pre>
<div class="sourceCode" id="cb64"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb64-1"><a href="data-wrangling.html#cb64-1" tabindex="-1"></a>Titanic <span class="ot">=</span> <span class="fu">clean_names</span>(Titanic) <span class="co"># this will clean the names of the variables in the data frame</span></span>
<span id="cb64-2"><a href="data-wrangling.html#cb64-2" tabindex="-1"></a><span class="fu">names</span>(Titanic) <span class="co"># this will return the names of the variables in the data frame</span></span></code></pre></div>
<pre><code>##  [1] &quot;passenger_id&quot; &quot;survived&quot;     &quot;pclass&quot;       &quot;name&quot;         &quot;sex&quot;         
##  [6] &quot;age&quot;          &quot;sib_sp&quot;       &quot;parch&quot;        &quot;ticket&quot;       &quot;fare&quot;        
## [11] &quot;cabin&quot;        &quot;embarked&quot;</code></pre>
<p>Let us now filter all rows with females, and that are in the first class and age less than 20.</p>
<p>From 1,309 passengers we 16 females with the above characteristics.</p>
<div class="sourceCode" id="cb66"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb66-1"><a href="data-wrangling.html#cb66-1" tabindex="-1"></a>Titanic <span class="sc">%&gt;%</span> </span>
<span id="cb66-2"><a href="data-wrangling.html#cb66-2" tabindex="-1"></a>  <span class="fu">filter</span>(sex<span class="sc">==</span><span class="st">&quot;female&quot;</span> <span class="sc">&amp;</span> pclass<span class="sc">==</span><span class="dv">1</span> <span class="sc">&amp;</span> age<span class="sc">&lt;</span><span class="dv">20</span>) <span class="co"># this will return</span></span></code></pre></div>
<pre><code>## # A tibble: 16 × 12
##    passenger_id survived pclass name       sex     age sib_sp parch ticket  fare
##           &lt;dbl&gt;    &lt;dbl&gt;  &lt;dbl&gt; &lt;chr&gt;      &lt;chr&gt; &lt;dbl&gt;  &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;  &lt;dbl&gt;
##  1          137        1      1 Newsom, M… fema…    19      0     2 11752   26.3
##  2          292        1      1 Bishop, M… fema…    19      1     0 11967   91.1
##  3          298        0      1 Allison, … fema…     2      1     2 113781 152. 
##  4          308        1      1 Penasco y… fema…    17      1     0 PC 17… 109. 
##  5          312        1      1 Ryerson, … fema…    18      2     2 PC 17… 262. 
##  6          330        1      1 Hippach, … fema…    16      0     1 111361  58.0
##  7          436        1      1 Carter, M… fema…    14      1     2 113760 120  
##  8          505        1      1 Maioni, M… fema…    16      0     0 110152  86.5
##  9          586        1      1 Taussig, … fema…    18      0     2 110413  79.6
## 10          690        1      1 Madill, M… fema…    15      0     1 24160  211. 
## 11          701        1      1 Astor, Mr… fema…    18      1     0 PC 17… 228. 
## 12          782        1      1 Dick, Mrs… fema…    17      1     0 17474   57  
## 13          854        1      1 Lines, Mi… fema…    16      0     1 PC 17…  39.4
## 14          888        1      1 Graham, M… fema…    19      0     0 112053  30  
## 15         1074        1      1 Marvin, M… fema…    18      1     0 113773  53.1
## 16         1287        1      1 Smith, Mr… fema…    18      1     0 13695   60  
## # ℹ 2 more variables: cabin &lt;chr&gt;, embarked &lt;chr&gt;</code></pre>
<div class="sourceCode" id="cb68"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb68-1"><a href="data-wrangling.html#cb68-1" tabindex="-1"></a><span class="co"># The following code those the same as the above code, but it is more readable for beginners</span></span>
<span id="cb68-2"><a href="data-wrangling.html#cb68-2" tabindex="-1"></a></span>
<span id="cb68-3"><a href="data-wrangling.html#cb68-3" tabindex="-1"></a></span>
<span id="cb68-4"><a href="data-wrangling.html#cb68-4" tabindex="-1"></a>Titanic <span class="sc">%&gt;%</span> </span>
<span id="cb68-5"><a href="data-wrangling.html#cb68-5" tabindex="-1"></a>  <span class="fu">filter</span>(sex <span class="sc">==</span> <span class="st">&quot;female&quot;</span>) <span class="sc">|&gt;</span> </span>
<span id="cb68-6"><a href="data-wrangling.html#cb68-6" tabindex="-1"></a>  <span class="fu">filter</span>(pclass <span class="sc">==</span> <span class="dv">1</span>) <span class="sc">|&gt;</span></span>
<span id="cb68-7"><a href="data-wrangling.html#cb68-7" tabindex="-1"></a>  <span class="fu">filter</span>(age <span class="sc">&lt;</span> <span class="dv">20</span>) <span class="co"># this will return</span></span></code></pre></div>
<pre><code>## # A tibble: 16 × 12
##    passenger_id survived pclass name       sex     age sib_sp parch ticket  fare
##           &lt;dbl&gt;    &lt;dbl&gt;  &lt;dbl&gt; &lt;chr&gt;      &lt;chr&gt; &lt;dbl&gt;  &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;  &lt;dbl&gt;
##  1          137        1      1 Newsom, M… fema…    19      0     2 11752   26.3
##  2          292        1      1 Bishop, M… fema…    19      1     0 11967   91.1
##  3          298        0      1 Allison, … fema…     2      1     2 113781 152. 
##  4          308        1      1 Penasco y… fema…    17      1     0 PC 17… 109. 
##  5          312        1      1 Ryerson, … fema…    18      2     2 PC 17… 262. 
##  6          330        1      1 Hippach, … fema…    16      0     1 111361  58.0
##  7          436        1      1 Carter, M… fema…    14      1     2 113760 120  
##  8          505        1      1 Maioni, M… fema…    16      0     0 110152  86.5
##  9          586        1      1 Taussig, … fema…    18      0     2 110413  79.6
## 10          690        1      1 Madill, M… fema…    15      0     1 24160  211. 
## 11          701        1      1 Astor, Mr… fema…    18      1     0 PC 17… 228. 
## 12          782        1      1 Dick, Mrs… fema…    17      1     0 17474   57  
## 13          854        1      1 Lines, Mi… fema…    16      0     1 PC 17…  39.4
## 14          888        1      1 Graham, M… fema…    19      0     0 112053  30  
## 15         1074        1      1 Marvin, M… fema…    18      1     0 113773  53.1
## 16         1287        1      1 Smith, Mr… fema…    18      1     0 13695   60  
## # ℹ 2 more variables: cabin &lt;chr&gt;, embarked &lt;chr&gt;</code></pre>
<div id="arrange-rows-based-on-a-variable" class="section level3 hasAnchor" number="5.9.1">
<h3><span class="header-section-number">5.9.1</span> Arrange rows based on a variable<a href="data-wrangling.html#arrange-rows-based-on-a-variable" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>To arrange the rows of a data frame based on a variable, you can use the <code>arrange</code> function from the <code>dplyr</code> package. This function allows you to sort the rows of a data frame based on the values of a variable. The syntax for the <code>arrange</code> function is as follows:</p>
<p>Note now the data frame is sorted by the age variable.</p>
<div class="sourceCode" id="cb70"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb70-1"><a href="data-wrangling.html#cb70-1" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb70-2"><a href="data-wrangling.html#cb70-2" tabindex="-1"></a></span>
<span id="cb70-3"><a href="data-wrangling.html#cb70-3" tabindex="-1"></a>Clean_df_clean <span class="sc">%&gt;%</span> <span class="fu">arrange</span>(age_2) <span class="co"># this will return all rows sorted by the age variable</span></span></code></pre></div>
<pre><code>## # A tibble: 3 × 6
##   name    age_2 height_m percent_of_value date_of_birth place_of_birth         
##   &lt;chr&gt;   &lt;dbl&gt;    &lt;dbl&gt;            &lt;dbl&gt; &lt;chr&gt;         &lt;chr&gt;                  
## 1 Alice      25      1.7              0.7 1997-01-01    New York City Manhathan
## 2 Bob        30      1.8              0.8 1992-01-01    Los Angeles            
## 3 Charlie    35     NA                0.9 1987-01-01    &lt;NA&gt;</code></pre>
</div>
<div id="mutate-calculate-new-variables-based-on-existing-variables" class="section level3 hasAnchor" number="5.9.2">
<h3><span class="header-section-number">5.9.2</span> Mutate: Calculate new variables based on existing variables<a href="data-wrangling.html#mutate-calculate-new-variables-based-on-existing-variables" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>To calculate new variables based on existing variables in a data frame, you can use the <code>mutate</code> function from the <code>dplyr</code> package. This function allows you to create new variables by performing calculations on existing variables. The syntax for the <code>mutate</code> function is as follows:</p>
<p>Let us calculate the BMI of the individuals in the data frame.</p>
<ul>
<li>First of all let us add the missing value for the height of Charlie.</li>
<li>The add a column of the weight in pounds of all individuals.</li>
</ul>
<div class="sourceCode" id="cb72"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb72-1"><a href="data-wrangling.html#cb72-1" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb72-2"><a href="data-wrangling.html#cb72-2" tabindex="-1"></a></span>
<span id="cb72-3"><a href="data-wrangling.html#cb72-3" tabindex="-1"></a>Clean_df_clean <span class="ot">&lt;-</span> Clean_df_clean <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">height_m =</span> <span class="fu">ifelse</span>(name <span class="sc">==</span> <span class="st">&quot;Charlie&quot;</span>, <span class="fl">1.75</span>, height_m)) <span class="co"># this will return all rows with a new variable called height_m</span></span>
<span id="cb72-4"><a href="data-wrangling.html#cb72-4" tabindex="-1"></a></span>
<span id="cb72-5"><a href="data-wrangling.html#cb72-5" tabindex="-1"></a>Clean_df_clean <span class="ot">&lt;-</span> Clean_df_clean <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">weight_kg =</span> <span class="fu">ifelse</span>(name <span class="sc">==</span> <span class="st">&quot;Alice&quot;</span>, <span class="dv">60</span>, <span class="fu">ifelse</span>(name <span class="sc">==</span> <span class="st">&quot;Bob&quot;</span>, <span class="dv">70</span>, <span class="dv">80</span>))) <span class="co"># this will return all rows with a new variable called weight_kg</span></span></code></pre></div>
<p>Now use mutate to calculate the BMI of the individuals in the data frame.</p>
<p>Note we use the same notattion as mathematical notation, the <code>^</code> symbol is used to raise a number to a power. the variable is given the name of <code>bmi</code></p>
<div class="sourceCode" id="cb73"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb73-1"><a href="data-wrangling.html#cb73-1" tabindex="-1"></a>Clean_df_clean <span class="ot">&lt;-</span> Clean_df_clean <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">bmi =</span> weight_kg <span class="sc">/</span> height_m<span class="sc">^</span><span class="dv">2</span>) <span class="co"># this will return all rows with a new variable called bmi</span></span>
<span id="cb73-2"><a href="data-wrangling.html#cb73-2" tabindex="-1"></a></span>
<span id="cb73-3"><a href="data-wrangling.html#cb73-3" tabindex="-1"></a>Clean_df_clean <span class="co"># this will return the data frame with the new variable bmi</span></span></code></pre></div>
<pre><code>## # A tibble: 3 × 8
##   name    age_2 height_m percent_of_value date_of_birth place_of_birth weight_kg
##   &lt;chr&gt;   &lt;dbl&gt;    &lt;dbl&gt;            &lt;dbl&gt; &lt;chr&gt;         &lt;chr&gt;              &lt;dbl&gt;
## 1 Alice      25     1.7               0.7 1997-01-01    New York City…        60
## 2 Bob        30     1.8               0.8 1992-01-01    Los Angeles           70
## 3 Charlie    35     1.75              0.9 1987-01-01    &lt;NA&gt;                  80
## # ℹ 1 more variable: bmi &lt;dbl&gt;</code></pre>
</div>
<div id="group-data-by-a-variable" class="section level3 hasAnchor" number="5.9.3">
<h3><span class="header-section-number">5.9.3</span> Group data by a variable<a href="data-wrangling.html#group-data-by-a-variable" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>To group a data frame by a variable, you can use the <code>group_by</code> function from the <code>dplyr</code> package. This function allows you to group the rows of a data frame based on the values of a variable. The syntax for the <code>group_by</code> function is as follows:</p>
<p>Let us group the data frame by the <code>sex</code> variable and calculate the mean age of the individuals in each group.</p>
<div class="sourceCode" id="cb75"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb75-1"><a href="data-wrangling.html#cb75-1" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb75-2"><a href="data-wrangling.html#cb75-2" tabindex="-1"></a></span>
<span id="cb75-3"><a href="data-wrangling.html#cb75-3" tabindex="-1"></a>Titanic <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(sex) <span class="sc">|&gt;</span>  <span class="co"># this will return all rows grouped</span></span>
<span id="cb75-4"><a href="data-wrangling.html#cb75-4" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">mean_age =</span> <span class="fu">mean</span>(age, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)) <span class="co"># this will return the mean age of the individuals in the data frame</span></span></code></pre></div>
<pre><code>## # A tibble: 2 × 2
##   sex    mean_age
##   &lt;chr&gt;     &lt;dbl&gt;
## 1 female     29.3
## 2 male       31.4</code></pre>
</div>
<div id="group-by-multiple-variables." class="section level3 hasAnchor" number="5.9.4">
<h3><span class="header-section-number">5.9.4</span> Group by multiple variables.<a href="data-wrangling.html#group-by-multiple-variables." class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Now we will summarize the by group by the <code>sex</code> and <code>pclass</code> variables and calculate the mean age and minimum and maximum age of the individuals in each subgroup in the data frame.</p>
<div class="sourceCode" id="cb77"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb77-1"><a href="data-wrangling.html#cb77-1" tabindex="-1"></a>Titanic <span class="sc">%&gt;%</span> </span>
<span id="cb77-2"><a href="data-wrangling.html#cb77-2" tabindex="-1"></a>  <span class="fu">group_by</span>(sex, pclass) <span class="sc">|&gt;</span></span>
<span id="cb77-3"><a href="data-wrangling.html#cb77-3" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">mean_age =</span> <span class="fu">mean</span>(age, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb77-4"><a href="data-wrangling.html#cb77-4" tabindex="-1"></a>            <span class="at">min_age =</span> <span class="fu">min</span>(age, <span class="at">na.rm=</span><span class="cn">TRUE</span>),</span>
<span id="cb77-5"><a href="data-wrangling.html#cb77-5" tabindex="-1"></a>            <span class="at">max_age =</span> <span class="fu">max</span>(age, <span class="at">na.rm=</span><span class="cn">TRUE</span>)) <span class="co"># this will return the mean age of the individuals in the data frame</span></span></code></pre></div>
<pre><code>## `summarise()` has grouped output by &#39;sex&#39;. You can
## override using the `.groups` argument.</code></pre>
<pre><code>## # A tibble: 6 × 5
## # Groups:   sex [2]
##   sex    pclass mean_age min_age max_age
##   &lt;chr&gt;   &lt;dbl&gt;    &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;
## 1 female      1     37.0       2      76
## 2 female      2     28.4       1      92
## 3 female      3     23.3       1      75
## 4 male        1     41.6       4      92
## 5 male        2     32.3       1      83
## 6 male        3     26.6       1      83</code></pre>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="data-upload.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="understanding-your-file-data-strutcture.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
  "sharing": {
    "github": false,
    "facebook": true,
    "twitter": true,
    "linkedin": false,
    "weibo": false,
    "instapaper": false,
    "vk": false,
    "whatsapp": false,
    "all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
  },
  "fontsettings": {
    "theme": "white",
    "family": "sans",
    "size": 2
  },
  "edit": {
    "link": "https://github.com/RaymondLTremblay/Quantitative_Agricultural_Economics/edit/main/05-Data_Wrangling.Rmd",
    "text": "Edit"
  },
  "history": {
    "link": null,
    "text": null
  },
  "view": {
    "link": "https://github.com/RaymondLTremblay/Quantitative_Agricultural_Economics/blob/main/05-Data_Wrangling.Rmd",
    "text": null
  },
  "download": null,
  "search": {
    "engine": "fuse",
    "options": null
  },
  "toc": {
    "collapse": "subsection"
  }
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
